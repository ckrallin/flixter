function showGeneralModal(){$("#comment_category").val("general"),$(".comment_github_url").show(),$(".comment_message").show(),$(".comment_heroku_url").hide(),$(".comment_heroku_logs").hide(),$(".comment_code_with_errors").hide(),$(".comment_website_zip_file").hide(),$(".zip-file").hide()}function showHerokuModal(){$("#comment_category").val("heroku"),$(".comment_github_url").show(),$(".comment_heroku_url").show(),$(".comment_heroku_logs").show(),$(".comment_message").show(),$(".comment_code_with_errors").hide(),$(".comment_website_zip_file").hide(),$(".zip-file").hide()}function showPortfolioModal(){$("#comment_category").val("portfolio"),$(".comment_website_zip_file").show(),$(".zip-file").show(),$(".comment_message").show(),$(".comment_github_url").hide(),$(".comment_heroku_url").hide(),$(".comment_heroku_logs").hide(),$(".comment_code_with_errors").hide()}function showOtherModal(){$("#comment_category").val("other"),$(".comment_code_with_errors").show(),$(".comment_message").show(),$(".comment_github_url").hide(),$(".comment_heroku_url").hide(),$(".comment_heroku_logs").hide(),$(".comment_website_zip_file").hide(),$(".zip-file").hide()}function updateModal(e){$("button#askQuestionModalLabel span.title-text").text(e).trigger("TextChanged")}function submitNewComment(e){$("#comment-submit-question-button").click(function(e){e.preventDefault();var o=$("#comment_category").val(),t=$("#comment_title").val(),r=$("#comment_github_url").val(),i=$("#comment_heroku_url").val(),n=$("#comment_heroku_logs").val(),a=$("#comment_message").val(),l=$("#comment_code_with_errors").val(),s=$("#comment_website_zip_file").val();if(o.includes("heroku")){if(resetErrorMessages(),checkHerokuValidations(t,r,i,a,n)===!1)return}else if(o.includes("portfolio")){if(resetErrorMessages(),checkWebsiteValidations(t,a,s)===!1)return}else if(o.includes("other")){if(resetErrorMessages(),checkOtherValidations(t,a,l)===!1)return}else if(o.includes("general")&&(resetErrorMessages(),checkGeneralValidations(t,r,a)===!1))return;$("#new_comment").submit()})}function checkHerokuValidations(e,o,t,r,i){var n=!0,e=validateTitle(e),a=validateGithubUrl(o),r=validateMessage(r);return e!==!1&&a!==!1&&r!==!1||(n=!1),t.includes(".herokuapp.com")||($("#comment_heroku_url_error").show(),n=!1),i.length<1&&($("#comment_heroku_logs_error").show(),n=!1),n}function checkOtherValidations(e,o,t){var r=!0,e=validateTitle(e),o=validateMessage(o);return e!==!1&&o!==!1||(r=!1),t.length<1&&($("#comment_code_error").show(),r=!1),r}function checkGeneralValidations(e,o,t){var r=!0,e=validateTitle(e),i=validateGithubUrl(o),t=validateMessage(t);return e!==!1&&i!==!1&&t!==!1||(r=!1),r}function checkWebsiteValidations(e,o,t){var r=!0,e=validateTitle(e),o=validateMessage(o);return e!==!1&&o!==!1||(r=!1),t.length<1&&($("#comment_website_zip_error").show(),r=!1),r}function validateTitle(e){if(e.length<15)return $("#comment_title_error").show(),!1}function validateGithubUrl(e){if(/(github.com\/.+\/.+[a-z||A-Z])/.test(e)===!1)return $("#comment_github_url_error").show(),!1}function validateMessage(e){if(e.length<50)return $("#comment_message_error").show(),!1}function resetErrorMessages(){$(".comment-error").css("display","none")}$(function(){$("button#askQuestionModalLabel").on("TextChanged",function(){var e=$("button#askQuestionModalLabel span.title-text").text();resetErrorMessages(),"Code/App"===e?showGeneralModal():"Heroku"===e?showHerokuModal():"Portfolio"===e?showPortfolioModal():"General"!==e&&"Other"!==e||showOtherModal()}),$(".ask-question-button").click(function(){$(".question-dropdown .dropdown-menu").is(":hidden")?$(".question-dropdown > ul.dropdown-menu").show():$(".question-dropdown .dropdown-menu").is(":visible")&&$(".question-dropdown > ul.dropdown-menu").hide()}),$("#heroku_error_title").click(function(){updateModal("Heroku")}),$("#generic_error_title").click(function(){updateModal("Code/App")}),$("#general_error_title").click(function(){updateModal("General")}),$("#website_error_title").click(function(){updateModal("Portfolio")}),$("#other_error_title").click(function(){updateModal("Other")}),$("img").error(function(){"comment-avatar-small"==$(this).context.className&&$(this).attr("src",'<%= asset_url "kirk.jpg" %>')}),$("#heroku_error").click(function(){$("#askQuestionModal").modal("show"),updateModal("Heroku")}),$("#generic_error").click(function(){$("#askQuestionModal").modal("show"),updateModal("Code/App")}),$("#general_error").click(function(){$("#askQuestionModal").modal("show"),updateModal("General")}),$("#website_error").click(function(){$("#askQuestionModal").modal("show"),updateModal("Portfolio")}),$("#other_error").click(function(){$("#askQuestionModal").modal("show"),updateModal("Other")})});